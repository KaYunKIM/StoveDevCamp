# PMP 계획서

## 주제 및 컨셉

> 서비스 명 - TweeTrend

코로나 연관어 기반 트렌드 분석 대시보드 서비스

- Twitter에서 언급되는 코로나 관련 키워드를 포함한 실시간 피드 제공과 키워드를 분석한 통계치를 사용자에게 대시보드 형태로 제공하는 서비스를 개발한다.

- 이후 특정 주제에 국한되지 않고, 유저가 검색한 키워드에 대한 트렌드 분석 페이지를 제공하는 서비스로 확장한다.

- 트위터 외에 다른 SNS(instagram 등)의 전체적인 트렌드를 분석하여 제공하는 서비스로 확장한다.

## 팀 목표

- Tweetdeck과 SomeTrend를 벤치마킹하여 각자 관심있는 기술 습득 및 구현하는 것을 목표로 TweeTrend 서비스로 자연스럽게 통합하는 것.

- TweeTrend 서비스를 개발하면서 사용한 기술에 대해 서로에게 설명할 수 있을 정도의 상태가 되는 것.

### 매니지먼트 요소 및 관리 방안

- 시간 및 개발 일정

   → 팀 프로젝트 기간을 단계별로 나눠 각 단계의 목표를 정하고, 각 목표에 맞춰 각자의 기능을 개발한다.

   → 해야 할 일의 우선순위를 파악하고 작은 단위로 일을 나누어 체계적으로 진행한다

   → 각자 약속한 개발 일정을 준수하자 (일정을 지키지 못하면, 납득할 수 있는 이유가 있어야 한다.)

   → 매일 스크럼미팅을 통해 각자의 진행 상황을 공유한다

- 경험 부족

   → 그 만큼 학습해야 할 지식이 많다 

   → 지식 습득과 개발 사이의 효율적인 시간 관리가 필요하다

   → 이슈와 학습 내용에 대해 체계적이고 자세하게 기록하고 개발에 적용한다 (JIRA와 gitlab 활용)

   → 구조적인 고민, 성능 및 최적화에 대한 고민보다는 우선 구현할 수 있는 것부터 구현하고 나중에 개선한다

   → 리서치를 통해 공유하면 좋은 자료는 함께 공유한다.

- 에러 해결

   → 혼자 고민하지 말고 팀원의 도움을 구하기 위해 적극적으로 질문한다. (알려주는 사람이 더 배울 수 있도록)

   → 에러 해결 후 notion에 공유하여 동일한 문제 해결에 대해 다른 팀원들에게 도움을 제공한다.

- 인터페이스

   → 인터페이스를 맞춰야하는 당사자간 회의를 통해 의논한다. 

   → 개발 중에 다른 사람과 협의해야 하는 문제가 있다면, 빨리 문제 상황을 의논한다.

### 팀 빌딩/담당 역할

- 프론트 및 인증 서버 개발 → 추연호

   1. 전체 페이지 디자인

   1. 데이터 시각화 컴포넌트 개발

   1. Web Socket을 활용한 실시간 피드 컬럼 개발

   1. 로그인, 회원가입 페이지 개발

   1. 관심 주제 입력 폼 제작

   1. 인증 서버 개발

- 백엔드 → 정석준

   1. 데이터 조회 및 프론트 전달

   1. 백엔드 기능 개발

   1. redis를 활용한 캐싱

- 데이터 처리

   1. 데이터 수집 및 분산 처리(카프카) → 조인식

   1. 분산 데이터 가공 및 전처리(스파크) → 김가윤

   1. 가공 데이터 분산 저장 및 전달(분산형 DB) → 이규은

### 협업 Tool

- Gitlab : 개발 코드 공유

- Jira : 마일스톤 일정에 따라 Sprint 생성 후 각자 개발 사항 issue등록 후 진행 상황 고유 

- Notion : 회의록, PMP, Code Convention 등 문서작성 후 공유

- Teams : 오전 daily scrum, 빅스마일팀 회의, 웹개발팀, 데이터팀 회의 진행

## 개인 목표

‣ 

## 설계

### 기능 정의서

- 회원가입 + 로그인 기능

   - 일반 회원가입

   - 이메일 인증

   - + @ 소셜 로그인 (트위터 or 구글 + 카카오)

- 유저 관심 주제 관리

   - 회원가입이 완료되면 폼을 제공해 유저에게 관심 주제를 입력받는다. ex) 코로나, BTS, 넷플릭스 ...

   - 유저는 관심있는 주제를 추가하거나 삭제할 수 있다.

   - 메인 화면에는 하나의 주제에 대한 통계 데이터가 보여지고, 상단 탭으로 유저가 관심있는 주제별로 이동할 수 있다.

- 메인 화면에는 키워드에 대한 여러 통계 데이터를 보여준다.

   - 유저는 일간, 주간, 월간, 3개월간 통계를 선택할 수 있다.

   - 언급량 추이 : 해시태그의 언급량 추이 그래프를 보여준다.

   - 개별 사용자 추이 : 해시태그를 사용한 개별 사용자 추이 그래프를 보여준다.

   - 실시간 피드 : 키워드 해시태그가 포함된 실시간 피드를 보여준다.

      - Web Socket을 활용하여 실시간으로 업데이트 된다.

      - 무한 스크롤을 구현한다.

   - 컨텐츠 분석

      - 기간 내에 가장 인기있는 게시물(가능하다면 목록)을 보여준다.

      - 기간 내에 해당 해시태그를 가장 많이 사용한 사용자(가능하다면 목록)을 보여준다.

   - 연관어 분석

      - 관련 키워드를 word cloud / bubble chart 형태로 보여준다.

      - 연관어 순위를 보여준다.

      - 연관어 빈도수를 비교하는 그래프를 보여준다.

      ### 아키텍처 설계

![PMP-계획서-image-0](images/PMP-계획서-image-0.png)

[Cloudcraft - Draw AWS diagrams](https://app.cloudcraft.co/view/60e50b09-952e-47a7-be48-29307faa77bd?key=mX3xEz6obXvNNyA3LV1DPw)

- Data Processing 

   - Tweeter API → Kafka → Spark Streaming → Cassandra DB → 1. 실시간 피드 API(Django) 2. Spark→ 키워드 API(Django) ⇒ API Gateway(Django)

- BackEnd

   - API Server : Nginx → web socket → gunicorn(or uWSGI)  → Django

   - Auth Server : NestJS or ExpressJS + MySQL ⇒ API Gateway

   - [수정사항] 
Real-Time Feed API Server(web socket) → Daphne → Nginx
Keywords API Server → uWSGI(or gunicorn) → Nginx

- FrontEnd 

   - Main : React + TypeScript + Redux + Web Socket

   - Styling : Storybook, Styled-Components

#### DB 테이블 및 스키마 (세부사항)

- Users (Auth Server 측) : 유저의 회원 가입 정보 및 프로필 정보를 가진다.

![PMP-계획서-image-1](images/PMP-계획서-image-1.png)

#### UI/UX 설계

![PMP-계획서-image-2](images/PMP-계획서-image-2.png)

컨텐츠 분석, 키워드 분석, 연관어 비교

## 마일스톤 (PMP 제출)

### M1

> DevCamp 기간 내에 반드시 완료되어야 하는 목표

- 코로나 관련 키워드에 대한 트렌드 분석 제공

   - Keyword List

      - *코로나 12만 

      - *백신 38000 

      - *방역 36000

      - *확진자 46000

      - *여행 38000

- 특정 토픽에 대한 트윗을 실시간으로 제공하는 실시간 대시보드 웹 애플리케이션

   - 웹소켓을 사용한 실시간 피드 구현

- 기본 트렌드 분석 대시보드 구현

   ⇒ 총합, 평균 등 단순통계치 구현  ex) 총 언급량, 언급량 추이, 연관어 분석

- 데이터처리 Kafka-Spark-Cassandra 연결해서 데이터 통신 확인하기

- Spark-Streaming과 Spark Consumer, Spark Cassandra Connector 구현하기

- 키워드의 수에 따라 scale-out 가능한 구조를 설계하여 Kafka broker(topic 및 partition) 구현

- 유지보수가 원활하도록 분산 DB 구축 및 분석에 필요한 추가적인 데이터 모델링

- 트위터 소셜 로그인을 사용한 유저 인증

   - MSA로 분리되어 토큰 기반으로 인증하는 서버

- AWS 내에서 개발환경 구축 및 전체서비스 통합

- 기간별 데이터 제공

### M2

> DevCamp 기간 안에 어떻게든 최선을 다한다면 할 수 있을 것 같은 목표

- 코로나 주제 관련 키워드 확장하기

   - 재택 5000

   - 변이 2000

   - 사망 13000

   - 언택트 6000

   - 비대면 6000

   - 사회적거리두기 7000

- 추가적으로 분석 기법이 들어간 Trend 컴포넌트들을 완성(워드 클라우드, 버블 차트 등)

- 트위터와 상호작용할 수 있는 기능 구현 (좋아요, 리트윗, 댓글 등)

- 데이터 유실이 없도록(또는 속도와의 trade-off) Kafka 파라미터 튜닝 및 키워드 확장 적용

- DB 퍼포먼스 향상을 위한 튜닝

- 웹 서버와 웹 인터페이스 연결에 있어 API 게이트웨이를 통해 짜임새 있는 MSA 구조 구축 

- 트위터에서 제공하는 데이터 최대한 활용하여 통계 컴포넌트 늘리기 (사용자 위치, 작성 디바이스 등)

- 웹페이지 모바일 반응형 지원

- 랜딩 페이지 구축 (홈 화면, 서비스 소개)

### M3

> DevCamp 기간 내에는 불가능하지만 궁극적으로 만들고자 하는 목표

- 유저가 검색한 검색어 데이터 실시간 반영으로 확장하기 

   - 유저가 검색한 내용을 twitter API 의 파라미터로 입력해 실시간으로 데이터를 받아옴(유동적)

   - twitter API의 Sample Stream을 이용해 많은 양의 전체 tweets 의 수를 샘플링하여 감당할 수 있는 양의 데이터에서도 동향을 파악할 수 있도록 함

   - 해당 검색어와 코로나와의 상관성을 분석하여 인사이트 제공

- 분석 결과 개인 유저 별 저장

- 트위터 API 뿐만 아니라 다른 데이터 소스까지 확장(인스타그램 등)

